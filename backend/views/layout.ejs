<!-- views/layout.ejs -->
<!DOCTYPE html>
<html lang="en">
  <%- include('partials/head') %>
  <body>
    <%- include('partials/navbar', { activePage }) %>
    
    <main class="content">
  <% if (typeof message !== 'undefined') { %>
  <%- include('partials/error', { message }) %>
  <% } %>

      <%# Pass appropriate data for each section %>
      <% if (partialPath === 'games') { %>
        <%- include(partialPath, {
          recentlyPlayedGames: recentlyPlayedGames || [],
          masteredGames: masteredGames || []
        }) %>
      <% } else if (partialPath === 'blog') { %>
        <%- include(partialPath, { 
          blogPosts: typeof blogPosts !== 'undefined' ? blogPosts : [],
          locals: locals
        }) %>
      <% } else { %>
        <%- include(partialPath, { locals: locals }) %>
      <% } %>
    </main>
  </body>
</html>